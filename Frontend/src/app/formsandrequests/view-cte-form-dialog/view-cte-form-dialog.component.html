<div class="view-container">
  <div style="display: flex; justify-content: space-between">
    <div style="flex-grow: 1">
      <span class="view-title mr-3">CTE Form</span>
      <span class="gray-text">#{{data.cteForm.id}}</span>
    </div>
    <button mat-icon-button matDialogClose>
      <mat-icon>cancel</mat-icon>
    </button>
  </div>
  <div class="mb-2">
    <span><b>Submission Date</b></span>
    <span class="ml-2">{{data.cteForm.submissionTime.toLocaleString()}}</span>
  </div>
  <div style="display: flex" class="mb-2">
    <span class="subtitle mr-3">Form Status:</span>
    <span class="status-text"
          *ngIf="formStatus === 'Waiting'"
                    style="background-color: '#FF965D'">Waiting
    </span>
    <span class="status-text"
          *ngIf="formStatus === 'Accepted'"
          style="background-color: '#49C96D'">Accepted
    </span>
    <span class="status-text"
          *ngIf="formStatus === 'Rejected'"
          style="background-color: '#FD7972'">Rejected
    </span>

  </div>
  <mat-tab-group>
    <mat-tab label="Form Information">
      <div class="form-info">
        <div class="student-info-container mt-3">
          <span class="subtitle">Student Details</span>
          <div class="student-info mt-3">
            <span>Name</span>
            <span>{{data.student.firstName + data.student.lastName}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Student ID</span>
            <span>{{data.student.identityUser.userName}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Department</span>
            <span>{{data.student.major.departmentName}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Email</span>
            <span>{{data.student.identityUser.email}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>CGPA</span>
            <span>{{data.student.cgpa}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Exchange School</span>
            <span>{{data.student.exchangeSchool}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Preferred Term</span>
            <span>{{data.student.preferredSemester.academicYear + " " + data.student.preferredSemester.semester}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
          <div class="student-info mt-2">
            <span>Enterance Year</span>
            <span>{{data.student.entranceYear}}</span>
          </div>
          <mat-divider style="width: 100%"></mat-divider>
        </div>
        <div class="approval-info-container">
          <span class="subtitle mt-3 mb-3">Approvals</span>
          <div class="approve-info-content">
            <div class="approve-info-element">
              <span><b class="mr-2">Name:</b>{{data.cteForm.exchangeCoordinatorApproval.name}}</span>
              <span><b class="mr-2">Role:</b>Exchange Coordinator</span>
              <span *ngIf="coordinatorStatus != 'Waiting'">
                <b class="mr-2">Approval Date:</b>
                {{data.cteForm.exchangeCoordinatorApproval.dateOfApproval.toLocaleDateString()}}
              </span>
              <span *ngIf="coordinatorStatus != 'Waiting'">
                <b class="mr-2">Approval Time:</b>
                {{data.cteForm.exchangeCoordinatorApproval.dateOfApproval.toLocaleTimeString()}}
              </span>
              <div class="status-text-container"  >
                <span class="status-text"
                      *ngIf="coordinatorStatus === 'Waiting'"
                      style="background-color: '#FF965D'">Waiting</span>
                <span class="status-text"
                      *ngIf="coordinatorStatus === 'Accepted'"
                      style="background-color: '#49C96D'">Accepted</span>
                <span class="status-text"
                      *ngIf="coordinatorStatus === 'Rejected'"
                      style="background-color: '#FD7972'">Rejected</span>
              </div>

            </div>
            <mat-divider vertical style="height:150px" class="mr-4 ml-4"></mat-divider>
            <div class="approve-info-element">
              <span><b class="mr-2">Name:</b>{{data.cteForm.deanApproval.name}}</span>
              <span><b class="mr-2">Role:</b>Dean</span>
              <span *ngIf="deanStatus != 'Waiting'">
                <b class="mr-2">Approval Date:</b>
                {{data.cteForm.deanApproval.dateOfApproval.toLocaleDateString()}}
              </span>
              <span *ngIf="deanStatus != 'Waiting'">
                <b class="mr-2">Approval Time:</b>
                {{data.cteForm.deanApproval.dateOfApproval.toLocaleTimeString()}}
              </span>
              <div class="status-text-container"  >
                <span class="status-text"
                      *ngIf="deanStatus === 'Waiting'"
                      style="background-color: '#FF965D'">Waiting</span>
                <span class="status-text"
                      *ngIf="deanStatus === 'Accepted'"
                      style="background-color: '#49C96D'">Accepted</span>
                <span class="status-text"
                      *ngIf="deanStatus === 'Rejected'"
                      style="background-color: '#FD7972'">Rejected</span>
              </div>
            </div>
            <mat-divider vertical style="height:150px" class="mr-4 ml-4"></mat-divider>
            <div class="approve-info-element">
              <span><b class="mr-2">Name:</b>{{data.cteForm.chairApproval.name}}</span>
              <span><b class="mr-2">Role:</b>Chair</span>
              <span *ngIf="chairStatus != 'Waiting'">
                <b class="mr-2">Approval Date:</b>
                {{data.cteForm.chairApproval.dateOfApproval.toLocaleDateString()}}
              </span>
              <span *ngIf="chairStatus != 'Waiting'">
                <b class="mr-2">Approval Time:</b>
                {{data.cteForm.chairApproval.dateOfApproval.toLocaleTimeString()}}
              </span>
              <div class="status-text-container"  >
                <span class="status-text"
                      *ngIf="chairStatus === 'Waiting'"
                      style="background-color: '#FF965D'">Waiting</span>
                <span class="status-text"
                      *ngIf="chairStatus === 'Accepted'"
                      style="background-color: '#49C96D'">Accepted</span>
                <span class="status-text"
                      *ngIf="chairStatus === 'Rejected'"
                      style="background-color: '#FD7972'">Rejected</span>
              </div>
            </div>
            <mat-divider vertical style="height:150px"   class="mr-4 ml-4"></mat-divider>
            <div class="approve-info-element">
              <span><b class="mr-2">Name:</b>{{data.cteForm.facultyOfAdministrationBoardApproval.name}}</span>
              <span><b class="mr-2">Role:</b>Administration Board</span>
              <span *ngIf="boardStatus != 'Waiting'">
                <b class="mr-2">Approval Date:</b>
                {{data.cteForm.facultyOfAdministrationBoardApproval.dateOfApproval.toLocaleDateString()}}
              </span>
              <span *ngIf="boardStatus != 'Waiting'">
                <b class="mr-2">Approval Time:</b>
                {{data.cteForm.facultyOfAdministrationBoardApproval.dateOfApproval.toLocaleTimeString()}}
              </span>
              <div class="status-text-container"  >
                <span class="status-text"
                      *ngIf="boardStatus === 'Waiting'"
                      style="background-color: '#FF965D'">Waiting</span>
                <span class="status-text"
                      *ngIf="boardStatus === 'Accepted'"
                      style="background-color: '#49C96D'">Accepted</span>
                <span class="status-text"
                      *ngIf="boardStatus === 'Rejected'"
                      style="background-color: '#FD7972'">Rejected</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Form Content">
      <div class="form-content-container ">
        <div class="course-groups" *ngFor="let courseGroup of data.cteForm.transferredCourseGroup; let groupIndex = index">
          <div class="course-group mb-4">
            <div class="course-group-header">
              <span>Course Group {{groupIndex + 1}}</span>
            </div>
            <mat-divider style="width: 100%" class="mt-2 mb-2"></mat-divider>
            <div class="host-courses-container">
              <div>
                <span class="course-group-subtitle">Host Institution Courses</span>
              </div>
              <div class="host-courses" *ngFor="let transferredCourse of courseGroup.transferredCourses; let courseIndex = index">
                <div class="group-course mt-2">
                  <mat-form-field style="width: 150px" appearance="outline">
                    <mat-label>Course Code</mat-label>
                    <input type="search" matInput [(ngModel)]="transferredCourse.courseCode" readonly>
                  </mat-form-field>
                  <mat-form-field style="flex-grow: 1" class="mr-3 ml-3" appearance="outline">
                    <mat-label>Course Name</mat-label>
                    <input type="search" readonly
                           matInput [(ngModel)]="transferredCourse.courseName">
                  </mat-form-field >
                  <mat-form-field style="width:100px" class="mr-3" appearance="outline">
                    <mat-label>Credits</mat-label>
                    <input type="search" matInput
                           type="number"
                           step="0.5" min="0"
                           [(ngModel)]="transferredCourse.ects" readonly
                    >
                  </mat-form-field>

                  <mat-form-field style="width:100px" appearance="outline">
                    <mat-label>Grade</mat-label>
                    <input type="search" matInput
                           [(ngModel)]="transferredCourse.grade" readonly>
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="bilkent-course-container">
              <span class="course-group-subtitle">Bilkent Requirement</span>
              <div class="bilkent-requirement">
                <div class="course-info">
                  <mat-form-field style="width: 400px" appearance="outline">
                    <mat-label>Course Type</mat-label>
                    <input type="search"
                           matInput [(ngModel)]="courseGroup.exemptedCourse.courseType" readonly>
                  </mat-form-field>
                </div>
                <div class="course-info">
                  <mat-form-field style="width: 150px" appearance="outline">
                    <mat-label>Course Code</mat-label>
                    <input type="search"
                           matInput [(ngModel)]="courseGroup.exemptedCourse.courseCode" readonly>
                  </mat-form-field>
                  <mat-form-field style="flex-grow: 1" class="mr-3 ml-3" appearance="outline">
                    <mat-label>Course Name</mat-label>
                    <input type="search"
                           matInput [(ngModel)]="courseGroup.exemptedCourse.courseName" readonly>
                  </mat-form-field >
                  <mat-form-field style="width:100px" class="mr-3" appearance="outline">
                    <mat-label style="white-space: normal">Bilkent Credits</mat-label>
                    <input type="search" matInput
                           type="number"
                           step="1" min="0"
                           readonly
                           [(ngModel)]="courseGroup.exemptedCourse.bilkentCredits">
                  </mat-form-field>

                  <mat-form-field style="width:100px" appearance="outline">
                    <mat-label>ECTS</mat-label>
                    <input type="search" matInput
                           readonly
                           [(ngModel)]="courseGroup.exemptedCourse.ects">
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </mat-tab>
    <mat-tab label="Decision">
      <div class="decision-container">
        <span class="subtitle">Your Decision</span>
        <mat-form-field appearance="outline" style="width: 500px">
          <mat-label>Your Comments & Extra Notes</mat-label>
          <textarea class="custom-scroll-bar" type="search" rows="10"  matInput></textarea>
        </mat-form-field>
        <div class="decision-buttons mb-5">
          <button mat-raised-button style="margin-right: 50px; width: 125px" color="warn">Reject</button>
          <button mat-raised-button style="width: 125px" color="primary">Accept</button>
        </div>
      </div>

    </mat-tab>
  </mat-tab-group>
</div>

<!--<mat-tab-group dynamicHeight>
  <mat-tab label="Form Details">
    <div class="custom-scroll-bar">
      <div class="dialog-details-card">
        <h3>CTE Form <small style="color: gray">#{{ data.cteForm.id }}</small></h3>
        <div class="dialog-student-data">
          <h5>Student</h5>
        </div>
        <div class="dialog-summary">
          <div class="dialog-student-summary">
            <h4 class="dialog-summary-h4">Student Summary</h4>
            <p><b>Department: </b> {{ data.student.major.departmentName }}</p>
          </div>
          <div class="dialog-exchange-summary">
            <h4 class="dialog-summary-h4">Exchange Summary</h4>
            <p><b>Exchange School: </b> {{ data.student.exchangeSchool }}</p>
            <p><b>Term: </b> {{ data.student.preferredSemester.semester }}</p>
          </div>
        </div>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Form Contents">

  </mat-tab>
  <mat-tab label="Decision">

  </mat-tab>
</mat-tab-group>-->
